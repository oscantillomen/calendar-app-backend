{"version":3,"sources":["redux/types/types.js","redux/reducers/uiReducer.js","redux/reducers/calendarReducer.js","redux/reducers/authReducer.js","redux/reducers/rootReducer.js","redux/store.js","hooks/useForm.js","helpers/fetch.js","helpers/prepareEvents.js","redux/actions/events.js","redux/actions/auth.js","components/auth/LoginScreen.js","components/ui/NavBar.js","helpers/calendar-messages-es.js","components/calendar/CalendarEvent.js","redux/actions/ui.js","components/calendar/CalendarModal.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","components/router/PublicRoute.js","components/router/PrivateRoute.js","components/router/AppRouter.js","CalendarApp.js","index.js"],"names":["types","initialState","modalOpen","events","activeEvent","checking","rootReducer","combineReducers","ui","state","action","type","calendar","payload","map","e","id","filter","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","useForm","useState","values","setvalues","reset","handleInputChange","target","name","value","BASE_URL","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","prepareEvents","end","moment","toDate","start","eventAddNew","event","eventClearActiveEvent","eventUpdated","eventDeleted","eventLoaded","checkingFinish","login","user","startLogout","dispatch","clear","logout","LoginScreen","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","rName","rEmail","rPassword","rConfirm","formRegisterValues","handleRegisterInputChange","className","onSubmit","email","password","preventDefault","a","resp","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","placeholder","onChange","NavBar","useSelector","onClick","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","CalendarEvent","title","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","dateStart","setdateStart","dateEnd","setdateEnd","titleValid","settitleValid","formValues","setformValues","useEffect","closeModal","overlayClassName","closeTimeoutMS","isOpen","onRequestClose","style","contentLabel","momentStart","momentEnd","isSameOrAfter","trim","length","console","log","getState","_id","eventStartAddNew","minDate","autoComplete","rows","AddNewFab","DeleteEventFab","locale","localizer","momentLocalizer","CalendarScreen","lastView","setlastView","startAccessor","endAccessor","eventPropGetter","isSelected","backgoundColor","borderRadius","opacity","display","onDoubleClickEvent","onSelectEvent","note","onView","view","onSelectSlot","selectable","components","PublicRoute","isAuthenticated","Component","component","rest","props","to","PrivateRoute","AppRouter","exact","path","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3e17d8c9.chunk.js","sourcesContent":["export const types = {\r\n\tuiOpenModal: '[ui] Open modal',\r\n\tuiCloseModal: '[ui] Close modal',\r\n\r\n\teventStartNewAdd: '[event] Start add new',\r\n\teventSetActive: '[event] Set active',\r\n\teventAddNew: '[event] Add new',\r\n\teventClearActiveEvent: '[event] Clear active event',\r\n\teventUpdated: '[event] Event updated',\r\n\teventDeleted: '[event] Event deleted',\r\n\teventLoaded: '[event] Events Loaded',\r\n\teventLogout: '[event] Logout',\r\n\r\n\tauthCheckingFinish: '[auth] Finish checking login',\r\n\tauthStartLogin: '[auth] Start login',\r\n\tauthLogin: '[auth] Login',\r\n\tauthStartRegister: '[auth] Start register',\r\n\tauthStartTokenRenew: '[auth] Register',\r\n\tauthLogout: '[auth] Logout',\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n    modalOpen: false\r\n};\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case types.uiOpenModal:\r\n            return {\r\n                ...state,\r\n                modalOpen: true\r\n            }\r\n        \r\n            case types.uiCloseModal:\r\n                return {\r\n                    ...state,\r\n                    modalOpen: false\r\n                }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","import { types } from '../types/types';\r\n\r\n/* \r\n{\r\n\tid: 'kjkjhkjhkjhkjhiuhoib',\r\n\ttitle: 'Cumpleaños Oscar',\r\n\tstart: moment().toDate(),\r\n\tend: moment().add(2, 'hours').toDate(),\r\n\tnotes: 'Comprar el pastel',\r\n\tuser: {\r\n\t\t_id: '123',\r\n\t\tname: 'Oscar'\r\n\t}\r\n}\r\n*/\r\n\r\nconst initialState = {\r\n\tevents: [],\r\n\tactiveEvent: null\r\n};\r\n\r\nexport const calendarReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.eventSetActive:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactiveEvent: action.payload\r\n\t\t\t};\r\n\r\n\t\tcase types.eventAddNew:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: [ ...state.events, action.payload ]\r\n\t\t\t};\r\n\t\tcase types.eventClearActiveEvent:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactiveEvent: null\r\n\t\t\t};\r\n\t\tcase types.eventUpdated:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: state.events.map((e) => (e.id === action.payload.id ? action.payload : e))\r\n\t\t\t};\r\n\t\tcase types.eventDeleted:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: state.events.filter((e) => e.id !== state.activeEvent.id),\r\n\t\t\t\tactiveEvent: null\r\n\t\t\t};\r\n\r\n\t\tcase types.eventLoaded:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tevents: [...action.payload]\r\n\t\t\t}\r\n\r\n\t\tcase types.eventLogout:\r\n\t\t\treturn {\r\n\t\t\t\tevents: [],\r\n\t\t\t\tactiveEvent: null\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n    checking: true,\r\n    // uid: null,\r\n    // name: null\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case types.authLogin:\r\n            return {\r\n                ...state,\r\n                checking: false,\r\n                ...action.payload\r\n            }\r\n        case types.authStartRegister:\r\n            return {\r\n                ...state\r\n            }\r\n\r\n        case types.authCheckingFinish:\r\n            return {\r\n                ...state,\r\n                checking: false\r\n            }\r\n\r\n        case types.authLogout:\r\n            return {\r\n                checking: false\r\n            }        \r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from \"redux\";\r\nimport { uiReducer } from \"./uiReducer\";\r\nimport { calendarReducer } from \"./calendarReducer\";\r\nimport { authReducer } from \"./authReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    ui: uiReducer,\r\n    calendar: calendarReducer,\r\n    auth: authReducer\r\n});","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport { rootReducer } from './reducers/rootReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n","import { useState } from 'react'\r\n\r\nexport const useForm = (initialState = {}) => {\r\n    const [values, setvalues] = useState(initialState);\r\n\r\n    const reset = () => {\r\n        setvalues( initialState )\r\n    }\r\n\r\n    const handleInputChange = ({ target }) => {\r\n        setvalues({\r\n            ...values,\r\n            [target.name]: target.value\r\n        })\r\n    }\r\n\r\n    return [ values, handleInputChange, reset ]\r\n\r\n}\r\n","const BASE_URL = process.env.REACT_APP_API_URL;\r\n\r\nexport const fetchSinToken = (endpoint, data, method = 'GET') => {\r\n    const url = `${BASE_URL}/${endpoint}`;\r\n    if(method === 'GET'){\r\n        return fetch(url);\r\n    } else {\r\n        return fetch(url, {\r\n            method,\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n    }\r\n}\r\n\r\nexport const fetchConToken = (endpoint, data, method = 'GET') => {\r\n    const url = `${BASE_URL}/${endpoint}`;\r\n    const token = localStorage.getItem('token') || '';\r\n\r\n    if(method === 'GET'){\r\n        return fetch(url, {\r\n            method,\r\n            headers: {\r\n                'x-token': token\r\n            }\r\n        });\r\n    } else {\r\n        return fetch(url, {\r\n            method,\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'x-token': token\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n    }\r\n}","import moment from 'moment';\r\n\r\nexport const prepareEvents = (events = {}) => {\r\n    return events.map(e => ({\r\n        ...e,\r\n        end: moment(e.end).toDate(),\r\n        start: moment(e.start).toDate()\r\n    }));\r\n}","import { types } from '../types/types';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { prepareEvents } from '../../helpers/prepareEvents';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport const eventStartAddNew = (event) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { uid, name } = getState().auth;\r\n\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken('events', event, 'POST');\r\n\t\t\tconst body = await resp.json();\r\n\r\n\t\t\tif (body.ok) {\r\n\t\t\t\tevent.id = body.event.id;\r\n\t\t\t\tevent.user = {\r\n\t\t\t\t\t_id: uid,\r\n\t\t\t\t\tname\r\n\t\t\t\t};\r\n\t\t\t\tdispatch(eventAddNew(event));\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventAddNew = (event) => ({\r\n\ttype: types.eventAddNew,\r\n\tpayload: event\r\n});\r\n\r\nexport const setActive = (event) => ({\r\n\ttype: types.eventSetActive,\r\n\tpayload: event\r\n});\r\n\r\nexport const eventClearActiveEvent = () => ({\r\n\ttype: types.eventClearActiveEvent\r\n});\r\n\r\nexport const eventStartUpdate = (event) => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken(`events/${event.id}`, event, 'PUT');\r\n\t\t\tconst body = await resp.json();\r\n\r\n\t\t\tif (body.ok) {\r\n\t\t\t\tdispatch(eventUpdated(event));\r\n\t\t\t} else {\r\n\t\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventUpdated = (event) => ({\r\n\ttype: types.eventUpdated,\r\n\tpayload: event\r\n});\r\n\r\nexport const eventstartDelete = () => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { id } = getState().calendar.activeEvent;\r\n\t\tconst resp = await fetchConToken(`events/${id}`, {}, 'DELETE');\r\n\t\tconst body = await resp.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tdispatch(eventDeleted());\r\n\t\t} else {\r\n\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventDeleted = () => ({\r\n\ttype: types.eventDeleted\r\n});\r\n\r\nexport const eventStartLoading = () => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst resp = await fetchConToken('events');\r\n\t\t\tconst body = await resp.json();\r\n\r\n\t\t\tconst events = prepareEvents(body.events);\r\n\t\t\tconsole.log(events);\r\n\t\t\tdispatch(eventLoaded(events));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst eventLoaded = (events) => ({\r\n\ttype: types.eventLoaded,\r\n\tpayload: events\r\n});\r\n\r\nexport const eventLogout = () => ({ type: types.eventLogout });\r\n","import { fetchSinToken, fetchConToken } from '../../helpers/fetch';\r\nimport { types } from '../types/types';\r\nimport Swal from 'sweetalert2';\r\nimport { eventLogout } from './events';\r\n\r\nexport const startLogin = (email, password) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst resp = await fetchSinToken('auth', { email, password }, 'POST');\r\n\t\tconst body = await resp.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem('token', body.token);\r\n\t\t\tlocalStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const startRegister = (email, password, name) => {\r\n\treturn async (dispatch) => {\r\n\t\tconst resp = await fetchSinToken(\r\n\t\t\t'auth/new',\r\n\t\t\t{\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tname\r\n\t\t\t},\r\n\t\t\t'POST'\r\n\t\t);\r\n\r\n\t\tconst body = await resp.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem('token', body.token);\r\n\t\t\tlocalStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n\t\t\tdispatch(login({ uid: body.uid, name: body.name }));\r\n\t\t} else {\r\n\t\t\tSwal.fire('Error', body.msg, 'error');\r\n\t\t}\r\n\t};\r\n};\r\n\r\nexport const startChecking = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst resp = await fetchConToken('auth/renew');\r\n\t\tconst body = await resp.json();\r\n\r\n\t\tif (body.ok) {\r\n\t\t\tlocalStorage.setItem('token', body.token);\r\n\t\t\tlocalStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tlogin({\r\n\t\t\t\t\tuid: body.uid,\r\n\t\t\t\t\tname: body.name\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tdispatch(checkingFinish());\r\n\t\t}\r\n\t};\r\n};\r\n\r\nconst checkingFinish = () => ({ type: types.authCheckingFinish });\r\n\r\nconst login = (user) => ({\r\n\ttype: types.authLogin,\r\n\tpayload: user\r\n});\r\n\r\nexport const startLogout = () => {\r\n\treturn (dispatch) => {\r\n\t\tlocalStorage.clear();\r\n\t\tdispatch(logout());\r\n\t\tdispatch(eventLogout());\r\n\t}\r\n}\r\n\r\nconst logout = () => ({ type: types.authLogout });","import React from 'react';\r\nimport './login.css';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { startLogin, startRegister } from '../../redux/actions/auth';\r\nimport { useDispatch } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nexport const LoginScreen = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    const [ formLoginValues, handleLoginInputChange ] = useForm({\r\n        lEmail: 'oscantillomen@gmail.com',\r\n        lPassword: '123456'\r\n    });\r\n    \r\n    const [ formRegisterValues, handleRegisterInputChange ] = useForm({\r\n        rName: 'Eduardo',\r\n        rEmail: 'oscantillomen@misena.edu.co',\r\n        rPassword: '123456',\r\n        rConfirm: '123456'\r\n    });\r\n\r\n    const { lEmail, lPassword } = formLoginValues;\r\n    const { rEmail, rPassword, rConfirm, rName } = formRegisterValues;\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n        dispatch(startLogin(lEmail, lPassword));\r\n    }\r\n\r\n    const handleRegister = (e) => {\r\n        e.preventDefault();\r\n        if(rPassword !== rConfirm) {\r\n            return Swal.fire('Error', 'Las contraseñas deben coincidir', 'error');\r\n        } \r\n\r\n        dispatch(startRegister(rEmail, rPassword, rName));\r\n    }\r\n\r\n    return (\r\n        <div className=\"container login-container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 login-form-1\">\r\n                    <h3>Ingreso</h3>\r\n                    <form onSubmit={handleLogin}>\r\n                        <div className=\"form-group\">\r\n                            <input \r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Correo\"\r\n                                name=\"lEmail\"\r\n                                onChange={handleLoginInputChange}\r\n                                value={lEmail}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Contraseña\"\r\n                                name=\"lPassword\"\r\n                                onChange={handleLoginInputChange}\r\n                                value={lPassword}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input \r\n                                type=\"submit\"\r\n                                className=\"btnSubmit\"\r\n                                value=\"Login\" \r\n                            />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"col-md-6 login-form-2\">\r\n                    <h3>Registro</h3>\r\n                    <form onSubmit={handleRegister}>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Nombre\"\r\n                                onChange={handleRegisterInputChange}\r\n                                value={rName}\r\n                                name=\"rName\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Correo\"\r\n                                onChange={handleRegisterInputChange}\r\n                                value={rEmail}\r\n                                name=\"rEmail\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Contraseña\" \r\n                                onChange={handleRegisterInputChange}\r\n                                value={rPassword}\r\n                                name=\"rPassword\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Repita la contraseña\" \r\n                                onChange={handleRegisterInputChange}\r\n                                value={rConfirm}\r\n                                name=\"rConfirm\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input \r\n                                type=\"submit\" \r\n                                className=\"btnSubmit\" \r\n                                value=\"Crear cuenta\" />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { startLogout } from '../../redux/actions/auth';\r\n\r\nexport const NavBar = () => {\r\n    const dispatch = useDispatch();\r\n    const { name } = useSelector(state => state.auth);\r\n\r\n    const handleLogout = () => {\r\n        dispatch(startLogout())\r\n    }\r\n    \r\n    return (\r\n        <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n            <span className=\"navbar-brand\">\r\n                { name }\r\n            </span>\r\n\r\n            <button \r\n                onClick={handleLogout}\r\n                className=\"btn btn-outline-danger\">\r\n                <i className=\"fas fa-sign-out-alt\"></i>\r\n                <span> Salir</span>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n","export const messages = {\r\n    allDay: 'Todo el día',\r\n    previous: '<',\r\n    next: '>',\r\n    today: 'Hoy',\r\n    month: 'Mes',\r\n    week: 'Semana',\r\n    day: 'Día',\r\n    agenda: 'Agenda',\r\n    date: 'Fecha',\r\n    time: 'Hora',\r\n    event: 'Evento',\r\n    noEventsInRange: 'No hay eventos en este rango',\r\n    showMore: total => `+ Ver más (${total})`\r\n};","import React from 'react';\r\n\r\nexport const CalendarEvent = ({ event }) => {\r\n\tconst { title, user } = event;\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<span>{title}</span>\r\n\t\t\t<strong> - {user.name}</strong>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { types } from '../types/types';\r\n\r\nexport const uiOpenModal = () => ({ type: types.uiOpenModal });\r\n\r\nexport const uiCloseModal = () => ({ type: types.uiCloseModal });\r\n","import React, { useState, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport Modal from 'react-modal';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uiCloseModal } from './../../redux/actions/ui';\r\nimport { eventClearActiveEvent, eventStartAddNew, eventStartUpdate } from '../../redux/actions/events';\r\n\r\nconst customStyles = {\r\n\tcontent: {\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tright: 'auto',\r\n\t\tbottom: 'auto',\r\n\t\tmarginRight: '-50%',\r\n\t\ttransform: 'translate(-50%, -50%)'\r\n\t}\r\n};\r\n\r\nModal.setAppElement('#root');\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, 'hours');\r\nconst nowPlus1 = now.clone().add(1, 'hours');\r\n\r\nconst initEvent = {\r\n\ttitle: '',\r\n\tnotes: '',\r\n\tstart: now.toDate(),\r\n\tend: nowPlus1\r\n};\r\n\r\nexport const CalendarModal = () => {\r\n\tconst [ dateStart, setdateStart ] = useState(now.toDate());\r\n\tconst [ dateEnd, setdateEnd ] = useState(nowPlus1.toDate());\r\n\tconst [ titleValid, settitleValid ] = useState(true);\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { modalOpen } = useSelector((state) => state.ui);\r\n\tconst { activeEvent } = useSelector((state) => state.calendar);\r\n\r\n\tconst [ formValues, setformValues ] = useState(initEvent);\r\n\r\n\tconst { notes, title, start, end } = formValues;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (activeEvent) {\r\n\t\t\t\tsetformValues(activeEvent);\r\n\t\t\t} else {\r\n\t\t\t\tsetformValues(initEvent);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ activeEvent, setformValues ]\r\n\t);\r\n\r\n\tconst closeModal = () => {\r\n\t\tdispatch(uiCloseModal());\r\n\t\tdispatch(eventClearActiveEvent());\r\n\t\tsetformValues(initEvent);\r\n\t};\r\n\r\n\tconst handleStartDateChange = (date) => {\r\n\t\tsetdateStart(date);\r\n\t\tsetformValues({\r\n\t\t\t...formValues,\r\n\t\t\tstart: date\r\n\t\t});\r\n\t};\r\n\tconst handleEndDateChange = (date) => {\r\n\t\tsetdateEnd(date);\r\n\t\tsetformValues({\r\n\t\t\t...formValues,\r\n\t\t\tend: date\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleInputChange = ({ target }) => {\r\n\t\tsetformValues({\r\n\t\t\t...formValues,\r\n\t\t\t[target.name]: target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSubmitForm = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst momentStart = moment(start);\r\n\t\tconst momentEnd = moment(end);\r\n\r\n\t\tif (momentStart.isSameOrAfter(momentEnd)) {\r\n\t\t\treturn Swal.fire('Error', 'La fecha fin debe ser mayor a la fecha de inicio', 'error');\r\n\t\t}\r\n\r\n\t\tif (title.trim().length < 2) {\r\n\t\t\treturn settitleValid(false);\r\n\t\t}\r\n\r\n\t\tif (activeEvent) {\r\n\t\t\tdispatch(eventStartUpdate(formValues));\r\n\t\t} else {\r\n\t\t\tdispatch(eventStartAddNew(formValues));\r\n\t\t}\r\n\r\n\t\tsettitleValid(true);\r\n\t\tcloseModal();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tclassName=\"modal\"\r\n\t\t\toverlayClassName=\"modal-fondo\"\r\n\t\t\tcloseTimeoutMS={200}\r\n\t\t\tisOpen={modalOpen}\r\n\t\t\t//   onAfterOpen={afterOpenModal}\r\n\t\t\tonRequestClose={closeModal}\r\n\t\t\tstyle={customStyles}\r\n\t\t\tcontentLabel=\"Example Modal\"\r\n\t\t>\r\n\t\t\t<h1>{activeEvent ? 'Editar evento' : 'Nuevo evento'} </h1>\r\n\t\t\t<hr />\r\n\t\t\t<form className=\"container\" onSubmit={handleSubmitForm}>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Fecha y hora inicio</label>\r\n\t\t\t\t\t<DateTimePicker onChange={handleStartDateChange} value={dateStart} className=\"form-control\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Fecha y hora fin</label>\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tonChange={handleEndDateChange}\r\n\t\t\t\t\t\tvalue={dateEnd}\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tminDate={dateStart}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label>Titulo y notas</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName={`form-control ${!titleValid && 'is-invalid'}`}\r\n\t\t\t\t\t\tplaceholder=\"Título del evento\"\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\r\n\t\t\t\t\t\tUna descripción corta\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Notas\"\r\n\t\t\t\t\t\trows=\"5\"\r\n\t\t\t\t\t\tname=\"notes\"\r\n\t\t\t\t\t\tvalue={notes}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\r\n\t\t\t\t\t\tInformación adicional\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-primary btn-block\">\r\n\t\t\t\t\t<i className=\"far fa-save\" />\r\n\t\t\t\t\t<span> Guardar</span>\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { uiOpenModal } from '../../redux/actions/ui';\r\n\r\nexport const AddNewFab = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const handleOpenModal = () => {\r\n        dispatch(uiOpenModal());\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button\r\n                onClick={handleOpenModal}\r\n                className=\"btn btn-primary fab\"\r\n            >\r\n                <i className=\"fas fa-plus\"></i>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { eventstartDelete } from '../../redux/actions/events';\r\n\r\nexport const DeleteEventFab = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const handleDelete = () => {\r\n        dispatch(eventstartDelete());\r\n    }\r\n\r\n    return (\r\n        <button\r\n            onClick={ handleDelete }\r\n            className='btn btn-danger fab-danger'\r\n        >\r\n            <i className=\"fas fa-trash\"></i>\r\n            <span> Borrar Evento</span>\r\n        </button>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { NavBar } from '../ui/NavBar';\r\nimport moment from 'moment';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\nimport { messages } from '../../helpers/calendar-messages-es';\r\n\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport 'moment/locale/es';\r\nimport { CalendarEvent } from './CalendarEvent';\r\nimport { CalendarModal } from './CalendarModal';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uiOpenModal } from '../../redux/actions/ui';\r\nimport { setActive, eventClearActiveEvent, eventStartLoading } from '../../redux/actions/events';\r\nimport { AddNewFab } from '../ui/AddNewFab';\r\nimport { DeleteEventFab } from '../ui/DeleteEventFab';\r\n\r\nmoment.locale('es');\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\nexport const CalendarScreen = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { events, activeEvent } = useSelector(state => state.calendar);\r\n\tconst { uid } = useSelector(state => state.auth);\r\n\r\n\tconst [ lastView, setlastView ] = useState(localStorage.getItem('lastView') || 'month');\r\n\r\n\tconst onDoubleClick = () => {\r\n\t\tdispatch(uiOpenModal());\r\n\t};\r\n\r\n\tconst onSelectEvent = (note) => {\r\n\t\tdispatch(setActive(note));\r\n\t};\r\n\r\n\tconst onViewChange = (e) => {\r\n\t\tsetlastView(e);\r\n\t\tlocalStorage.setItem('lastView', e);\r\n\t};\r\n\r\n\tconst onSelectSlot = (e) => {\r\n\t\tdispatch(eventClearActiveEvent());\r\n\t}\r\n\r\n\tconst eventStyleGetter = (event, start, end, isSelected) => {\r\n\r\n\r\n\r\n\t\tconst style = {\r\n\t\t\tbackgoundColor: (uid === event.user._id) ? '#366CF7' : '#465660',\r\n\t\t\tborderRadius: '0px',\r\n\t\t\topacity: 0.8,\r\n\t\t\tdisplay: 'block'\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tstyle\r\n\t\t};\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(eventStartLoading());\r\n\t}, [dispatch])\r\n\r\n\treturn (\r\n\t\t<div className=\"calendar-screen\">\r\n\t\t\t<NavBar />\r\n\t\t\t<Calendar\r\n\t\t\t\tlocalizer={localizer}\r\n\t\t\t\tevents={events}\r\n\t\t\t\tstartAccessor=\"start\"\r\n\t\t\t\tendAccessor=\"end\"\r\n\t\t\t\tmessages={messages}\r\n\t\t\t\teventPropGetter={eventStyleGetter}\r\n\t\t\t\tonDoubleClickEvent={onDoubleClick}\r\n\t\t\t\tonSelectEvent={onSelectEvent}\r\n\t\t\t\tonView={onViewChange}\r\n\t\t\t\tview={lastView}\r\n\t\t\t\tonSelectSlot={ onSelectSlot }\r\n\t\t\t\tselectable={true}\r\n\t\t\t\tcomponents={{\r\n\t\t\t\t\tevent: CalendarEvent\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t{ \r\n\t\t\t\tactiveEvent && <DeleteEventFab /> \r\n\t\t\t}\r\n            <AddNewFab />\r\n\t\t\t<CalendarModal />\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const PublicRoute = ({ \r\n    isAuthenticated, \r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n    return (\r\n        <Route { ...rest } component={ (props) => (\r\n            isAuthenticated \r\n                ? <Redirect to='/' />\r\n                : <Component {...props } />) }/>\r\n    )\r\n}\r\n\r\nPublicRoute.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ isAuthenticated, component: Component, ...rest }) => {\r\n\t\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\tcomponent={(props) => (isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />)}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}","import React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\r\nimport { LoginScreen } from '../auth/LoginScreen';\r\nimport { CalendarScreen } from '../calendar/CalendarScreen';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startChecking } from '../../redux/actions/auth';\r\nimport { PublicRoute } from './PublicRoute';\r\nimport { PrivateRoute } from './PrivateRoute';\r\n\r\nexport const AppRouter = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst { checking, uid } = useSelector(state => state.auth);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(startChecking());\r\n\t}, [dispatch]);\r\n\r\n\tif( checking ) {\r\n\t\treturn <h5>Espere...</h5>\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<div>\r\n                <Switch>\r\n                    <PublicRoute \r\n\t\t\t\t\t\texact \r\n\t\t\t\t\t\tpath=\"/login\" \r\n\t\t\t\t\t\tcomponent={LoginScreen}\r\n\t\t\t\t\t\tisAuthenticated={!!uid}\r\n\t\t\t\t\t/>\r\n                    <PrivateRoute \r\n\t\t\t\t\t\texact \r\n\t\t\t\t\t\tpath=\"/\" \r\n\t\t\t\t\t\tcomponent={CalendarScreen} \r\n\t\t\t\t\t\tisAuthenticated={!!uid}\t\r\n\t\t\t\t\t/>\r\n\r\n                    <Redirect to=\"/\" />\r\n                </Switch>\r\n\t\t\t</div>\r\n\t\t</Router>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport { store } from './redux/store';\r\nimport { AppRouter } from './components/router/AppRouter';\r\n\r\nexport const CalendarApp = () => {\r\n    return (\r\n        <Provider store={store}>\r\n            <AppRouter />\r\n        </Provider>\r\n    )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CalendarApp } from './CalendarApp';\nimport './../src/styles.css';\n\nReactDOM.render(\n\t<CalendarApp />,\n\tdocument.getElementById('root')\n);"],"sourceRoot":""}